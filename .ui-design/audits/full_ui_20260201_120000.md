# Accessibility Audit Report

**Audit ID:** full_ui_20260201_120000
**Date:** 2026-02-01 12:00
**Target:** client/screens + client/components + client/camera
**WCAG Level:** AA
**Standard:** WCAG 2.1

## Executive Summary

**Compliance Status:** Needs Improvement

| Severity | Count | % of Issues |
| -------- | ----- | ----------- |
| Critical | 0     | 0%          |
| Serious  | 4     | 25%         |
| Moderate | 7     | 44%         |
| Minor    | 5     | 31%         |

**Criteria Checked:** 28
**Criteria Passed:** 24 (86%)
**Files Audited:** 21

## Serious Issues

These issues create significant barriers for some users.

---

### Issue 1: DietTypeScreen - Missing Accessibility Labels on Diet Items

**WCAG Criterion:** 1.1.1 - Non-text Content (Level A)
**Severity:** Serious
**Location:** `client/screens/onboarding/DietTypeScreen.tsx:124-176`
**Element:** `<Pressable key={diet.id} onPress={...}>`

**Problem:**
Diet type selection items lack `accessibilityLabel` and `accessibilityRole` attributes. Screen reader users cannot understand what each option represents.

**Impact:**
Users relying on screen readers cannot effectively navigate diet type selection options.

**Remediation:**
Add accessibility props to each Pressable:

```tsx
// Before
<Pressable
  key={diet.id}
  onPress={() => selectDietType(diet.id)}
  style={[...]}
>

// After
<Pressable
  key={diet.id}
  onPress={() => selectDietType(diet.id)}
  accessibilityLabel={`${diet.name}: ${diet.description}`}
  accessibilityRole="radio"
  accessibilityState={{ selected }}
  style={[...]}
>
```

---

### Issue 2: HealthConditionsScreen - Missing Accessibility Labels on Condition Items

**WCAG Criterion:** 1.1.1 - Non-text Content (Level A)
**Severity:** Serious
**Location:** `client/screens/onboarding/HealthConditionsScreen.tsx:135-194`
**Element:** `<Pressable key={condition.id} onPress={...}>`

**Problem:**
Health condition selection items lack `accessibilityLabel` and `accessibilityRole` attributes.

**Impact:**
Users relying on screen readers cannot understand what health conditions they are selecting.

**Remediation:**
Add accessibility props to each Pressable:

```tsx
// Before
<Pressable
  key={condition.id}
  onPress={() => toggleCondition(condition.id)}
  style={[...]}
>

// After
<Pressable
  key={condition.id}
  onPress={() => toggleCondition(condition.id)}
  accessibilityLabel={`${condition.name}: ${condition.description}`}
  accessibilityRole="checkbox"
  accessibilityState={{ checked: selected }}
  style={[...]}
>
```

---

### Issue 3: PreferencesScreen - Missing Accessibility Labels on Interactive Elements

**WCAG Criterion:** 1.1.1 - Non-text Content (Level A)
**Severity:** Serious
**Location:** `client/screens/onboarding/PreferencesScreen.tsx:129-153, 167-208, 221-261`
**Element:** Cuisine chips, skill level options, cooking time options

**Problem:**
Cuisine selection chips and skill level/cooking time options lack accessibility labels and roles.

**Impact:**
Screen reader users cannot navigate cuisine and cooking preference selections.

**Remediation:**
Add accessibility props to all interactive elements:

```tsx
// Cuisine chips
<Pressable
  key={cuisine.id}
  onPress={() => toggleCuisine(cuisine.id)}
  accessibilityLabel={cuisine.name}
  accessibilityRole="checkbox"
  accessibilityState={{ checked: selected }}
  style={[...]}
>

// Skill level / cooking time options
<Pressable
  key={level.id}
  onPress={() => selectSkillLevel(level.id)}
  accessibilityLabel={`${level.name}: ${level.description}`}
  accessibilityRole="radio"
  accessibilityState={{ selected }}
  style={[...]}
>
```

---

### Issue 4: DietTypeScreen/HealthConditionsScreen/PreferencesScreen - Back Button Missing Accessibility

**WCAG Criterion:** 1.1.1 - Non-text Content (Level A)
**Severity:** Serious
**Location:**

- `DietTypeScreen.tsx:185`
- `HealthConditionsScreen.tsx:203`
- `PreferencesScreen.tsx:272`

**Problem:**
Back button Pressables lack accessibilityLabel and accessibilityRole.

**Impact:**
Screen reader users cannot identify the back navigation button.

**Remediation:**

```tsx
// Before
<Pressable onPress={prevStep} style={styles.backButton}>
  <Feather name="arrow-left" size={24} color={theme.text} />
</Pressable>

// After
<Pressable
  onPress={prevStep}
  style={styles.backButton}
  accessibilityLabel="Go back"
  accessibilityRole="button"
>
  <Feather name="arrow-left" size={24} color={theme.text} />
</Pressable>
```

---

## Moderate Issues

These issues may cause difficulty for some users.

---

### Issue 5: ProfileScreen - TextInput Missing Accessibility Labels

**WCAG Criterion:** 1.3.1 - Info and Relationships (Level A)
**Severity:** Moderate
**Location:** `client/screens/ProfileScreen.tsx:241-255, 358-370`
**Element:** Display name input and calorie goal input

**Problem:**
TextInput fields lack accessibilityLabel attributes to describe their purpose.

**Impact:**
Screen reader users may not understand what information to enter in form fields.

**Remediation:**

```tsx
// Display name input
<TextInput
  accessibilityLabel="Display name"
  accessibilityHint="Enter your display name"
  style={[...]}
  value={displayName}
  onChangeText={setDisplayName}
  placeholder="Display Name"
  ...
/>

// Calorie goal input
<TextInput
  accessibilityLabel="Daily calorie target"
  accessibilityHint="Enter your daily calorie goal"
  style={[...]}
  value={calorieGoal}
  onChangeText={setCalorieGoal}
  keyboardType="numeric"
  ...
/>
```

---

### Issue 6: Card Component - Missing Accessibility Props When Pressable

**WCAG Criterion:** 4.1.2 - Name, Role, Value (Level A)
**Severity:** Moderate
**Location:** `client/components/Card.tsx:100-117`
**Element:** `<AnimatedPressable onPress={onPress}>`

**Problem:**
When Card is used with onPress, it lacks accessibilityRole and accessibilityLabel props.

**Impact:**
Screen readers cannot properly announce the interactive card element.

**Remediation:**

```tsx
// Add optional accessibility props to CardProps
interface CardProps {
  elevation?: number;
  title?: string;
  description?: string;
  children?: React.ReactNode;
  onPress?: () => void;
  style?: StyleProp<ViewStyle>;
  accessibilityLabel?: string;
  accessibilityHint?: string;
}

// When rendering pressable card
<AnimatedPressable
  onPress={onPress}
  accessibilityLabel={accessibilityLabel || title}
  accessibilityHint={accessibilityHint}
  accessibilityRole="button"
  ...
>
```

---

### Issue 7: ProfileScreen - Cancel Button Missing Accessibility

**WCAG Criterion:** 1.1.1 - Non-text Content (Level A)
**Severity:** Moderate
**Location:** `client/screens/ProfileScreen.tsx:673-681`
**Element:** Cancel button Pressable

**Problem:**
Cancel button lacks accessibilityLabel and accessibilityRole.

**Impact:**
Screen reader users cannot identify the cancel action.

**Remediation:**

```tsx
<Pressable
  onPress={() => setIsEditing(false)}
  accessibilityLabel="Cancel editing"
  accessibilityRole="button"
  style={[...]}
>
  <ThemedText type="body">Cancel</ThemedText>
</Pressable>
```

---

### Issue 8: Progress Bar Missing Accessibility Information

**WCAG Criterion:** 1.3.1 - Info and Relationships (Level A)
**Severity:** Moderate
**Location:** `client/screens/ProfileScreen.tsx:291-306`
**Element:** Calorie progress bar

**Problem:**
The progress bar is purely visual with no accessible representation of the progress value.

**Impact:**
Screen reader users cannot perceive the calorie progress.

**Remediation:**

```tsx
<View
  accessibilityLabel={`Calorie progress: ${Math.round(calorieProgress)}% of daily goal`}
  accessibilityRole="progressbar"
  accessibilityValue={{
    min: 0,
    max: 100,
    now: Math.round(calorieProgress),
  }}
  style={[styles.progressBar, { backgroundColor: theme.backgroundSecondary }]}
>
  <View style={[styles.progressFill, { width: `${calorieProgress}%`, ... }]} />
</View>
```

---

### Issue 9: WelcomeScreen - Feature Items Missing Accessibility Grouping

**WCAG Criterion:** 1.3.1 - Info and Relationships (Level A)
**Severity:** Moderate
**Location:** `client/screens/onboarding/WelcomeScreen.tsx:100-118`
**Element:** FeatureItem component

**Problem:**
Feature items are not grouped semantically for screen readers.

**Impact:**
Screen readers may not convey the relationship between title and description.

**Remediation:**

```tsx
function FeatureItem({ icon, title, description, theme }) {
  return (
    <View
      style={styles.featureItem}
      accessible={true}
      accessibilityLabel={`${title}: ${description}`}
    >
      ...
    </View>
  );
}
```

---

### Issue 10: Color Contrast - Secondary Text May Be Insufficient

**WCAG Criterion:** 1.4.3 - Contrast (Minimum) (Level AA)
**Severity:** Moderate
**Location:** `client/constants/theme.ts:6-7`
**Element:** textSecondary color (#757575 on #FFFFFF)

**Problem:**
The textSecondary color (#757575) on white background (#FFFFFF) has a contrast ratio of approximately 4.6:1, which barely meets the 4.5:1 requirement for normal text. For small text (caption, small types), this may be insufficient.

**Impact:**
Users with low vision may have difficulty reading secondary text, especially smaller sizes.

**Remediation:**
Consider darkening the secondary text color slightly:

```ts
// Current
textSecondary: "#757575",  // 4.6:1 contrast

// Recommended
textSecondary: "#666666",  // 5.7:1 contrast
```

---

### Issue 11: Animated Elements - No Reduced Motion Support

**WCAG Criterion:** 2.3.3 - Animation from Interactions (Level AAA) / Best Practice
**Severity:** Moderate
**Location:** Multiple files using react-native-reanimated

**Problem:**
The app uses animations throughout but does not check for `prefers-reduced-motion` system setting.

**Impact:**
Users who are sensitive to motion may experience discomfort.

**Remediation:**
Create a hook to respect user motion preferences:

```tsx
import { useReducedMotion } from "react-native-reanimated";

function useAnimationConfig() {
  const reducedMotion = useReducedMotion();

  return {
    duration: reducedMotion ? 0 : 300,
    // ... other config
  };
}
```

---

## Minor Issues

These are best practice improvements.

---

### Issue 12: Missing lang Attribute Equivalent

**WCAG Criterion:** 3.1.1 - Language of Page (Level A)
**Severity:** Minor
**Location:** App-wide

**Problem:**
React Native apps should set `accessibilityLanguage` for proper screen reader pronunciation.

**Remediation:**
Set language on root view or use expo-localization.

---

### Issue 13: Chips/Tags Missing Role Information

**WCAG Criterion:** 4.1.2 - Name, Role, Value (Level A)
**Severity:** Minor
**Location:** `ProfileScreen.tsx:410-439` (allergy chips)

**Problem:**
Visual chip/tag elements lack semantic role information.

**Remediation:**
Add `accessibilityRole="text"` to informational chips.

---

### Issue 14: Icon-Only Buttons Should Use accessibilityElementsHidden

**WCAG Criterion:** 1.3.1 - Info and Relationships (Level A)
**Severity:** Minor
**Location:** Multiple Feather icon usages within accessible elements

**Problem:**
Icons within already-labeled buttons should be hidden from accessibility tree to avoid redundant announcements.

**Remediation:**

```tsx
<Feather
  name="arrow-left"
  size={24}
  color={theme.text}
  accessibilityElementsHidden={true}
  importantForAccessibility="no-hide-descendants"
/>
```

---

### Issue 15: Inconsistent Touch Target Sizes

**WCAG Criterion:** 2.5.5 - Target Size (Level AAA)
**Severity:** Minor
**Location:** Various small icons and chips

**Problem:**
Some touch targets are smaller than the recommended 44x44 points for mobile.

**Remediation:**
Add `hitSlop` to smaller interactive elements or increase their minimum dimensions.

---

### Issue 16: Missing Focus Indicators on Web

**WCAG Criterion:** 2.4.7 - Focus Visible (Level AA)
**Severity:** Minor
**Location:** App-wide

**Problem:**
While React Native handles focus on native platforms, web exports may lack visible focus indicators.

**Remediation:**
Add focus styling for web target if applicable.

---

## Passed Criteria

The following WCAG criteria passed:

| Criterion | Name                    | Level | Notes                                                      |
| --------- | ----------------------- | ----- | ---------------------------------------------------------- |
| 1.1.1     | Non-text Content        | A     | Most interactive elements have labels (after recent fixes) |
| 1.3.1     | Info and Relationships  | A     | Semantic heading structure with h1-h4                      |
| 1.3.2     | Meaningful Sequence     | A     | Logical reading order maintained                           |
| 1.3.3     | Sensory Characteristics | A     | Not relying solely on color/shape                          |
| 1.3.4     | Orientation             | AA    | Supports both portrait and landscape                       |
| 1.4.1     | Use of Color            | A     | Visual indicators supplement color                         |
| 1.4.2     | Audio Control           | A     | No auto-playing audio                                      |
| 1.4.3     | Contrast (Minimum)      | AA    | Primary text meets 4.5:1                                   |
| 1.4.4     | Resize Text             | AA    | Respects system font size                                  |
| 1.4.10    | Reflow                  | AA    | Responsive layouts                                         |
| 1.4.11    | Non-text Contrast       | AA    | UI components have sufficient contrast                     |
| 2.1.1     | Keyboard                | A     | All interactive elements accessible                        |
| 2.1.2     | No Keyboard Trap        | A     | No keyboard traps present                                  |
| 2.2.1     | Timing Adjustable       | A     | No time limits                                             |
| 2.3.1     | Three Flashes           | A     | No flashing content                                        |
| 2.4.1     | Bypass Blocks           | A     | Tab navigation available                                   |
| 2.4.2     | Page Titled             | A     | Screens have titles via navigation                         |
| 2.4.3     | Focus Order             | A     | Logical focus order                                        |
| 2.4.4     | Link Purpose            | A     | Links have clear purposes                                  |
| 2.4.6     | Headings and Labels     | AA    | Descriptive headings used                                  |
| 2.5.1     | Pointer Gestures        | A     | Simple tap gestures used                                   |
| 2.5.2     | Pointer Cancellation    | A     | Actions on up events                                       |
| 3.2.1     | On Focus                | A     | Focus doesn't change context                               |
| 3.2.2     | On Input                | A     | Input doesn't change context unexpectedly                  |

---

## Recommendations

### Quick Wins (< 1 hour each)

1. Add `accessibilityLabel` and `accessibilityRole` to DietTypeScreen diet items
2. Add `accessibilityLabel` and `accessibilityRole` to HealthConditionsScreen condition items
3. Add `accessibilityLabel` and `accessibilityRole` to PreferencesScreen cuisine/skill/time items
4. Add `accessibilityLabel` to all back buttons in onboarding screens
5. Add `accessibilityLabel` to ProfileScreen TextInputs

### Medium Effort (1-4 hours each)

1. Add accessibility props to Card component for pressable state
2. Implement reduced motion support using `useReducedMotion`
3. Review and darken secondary text color for better contrast

### Significant Effort (> 4 hours)

1. Comprehensive manual testing with VoiceOver/TalkBack
2. Add automated accessibility tests with jest-axe

---

## Testing Resources

### Automated Testing

Add these tests to catch regressions:

```javascript
// Example using @testing-library/react-native
import { render, screen } from "@testing-library/react-native";

test("DietTypeScreen has accessible diet options", () => {
  render(<DietTypeScreen />);

  // Verify all diet options are accessible
  expect(screen.getByRole("radio", { name: /omnivore/i })).toBeTruthy();
  expect(screen.getByRole("radio", { name: /vegetarian/i })).toBeTruthy();
});

test("back button is accessible", () => {
  render(<DietTypeScreen />);

  expect(screen.getByRole("button", { name: /go back/i })).toBeTruthy();
});
```

### Manual Testing Checklist

- [ ] Navigate entire app using VoiceOver (iOS) or TalkBack (Android)
- [ ] Verify all interactive elements are announced
- [ ] Verify focus order matches visual order
- [ ] Test with system font size set to largest
- [ ] Test with reduced motion enabled
- [ ] Verify all form inputs have clear labels announced

### Recommended Tools

- **VoiceOver** (iOS) - Built-in screen reader
- **TalkBack** (Android) - Built-in screen reader
- **Accessibility Inspector** (Xcode) - Debug accessibility properties
- **Layout Inspector** (Android Studio) - Check accessibility properties
- **react-native-accessibility-engine** - Automated testing

---

_Generated by UI Design Accessibility Audit_
_WCAG Reference: https://www.w3.org/WAI/WCAG21/quickref/_
